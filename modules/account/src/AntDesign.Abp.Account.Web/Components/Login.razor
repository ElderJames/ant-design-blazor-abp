@using AntDesign.Abp.Account.Web.Pages.Account
@using Volo.Abp.Account.Web.Areas.Account.Controllers.Models
@using Volo.Abp.Account.Web.Pages.Account

<Tabs ActiveKey="@LoginType">
    <TabPane Key="1">
        <Tab>账户密码登录</Tab>
        <ChildContent>
            <FormInputItem>
                <AntDesign.Input Placeholder="用户名: admin or user" Size="large" @bind-Value="@LoginInput.UserNameOrEmailAddress">
                    <Prefix><Icon Type="user" /></Prefix>
                </AntDesign.Input>
            </FormInputItem>
            <FormInputItem>
                <AntDesign.Input Placeholder="密码: ant.design" Size="large" @bind-Value="@LoginInput.Password" Type="password">
                    <Prefix><Icon Type="lock" /></Prefix>
                </AntDesign.Input>
            </FormInputItem>
        </ChildContent>
    </TabPane>
    <TabPane Key="2">
        <Tab>手机号登录</Tab>
        <ChildContent>
            <FormInputItem>
                <AntDesign.Input Placeholder="手机号" Size="large" @bind-Value="@Mobile">
                    <Prefix><Icon Type="mobile" /></Prefix>
                </AntDesign.Input>
            </FormInputItem>
            <FormInputItem>
                <Row Gutter="8">
                    <AntDesign.Col Span="16">
                        <AntDesign.Input Placeholder="验证码" Size="large" @bind-Value="@Captcha">
                            <Prefix><Icon Type="mail" /></Prefix>
                        </AntDesign.Input>
                    </AntDesign.Col>
                    <AntDesign.Col Span="8">
                        <Button Size="large" Block OnClick="GetCaptcha">获取验证码</Button>
                    </AntDesign.Col>
                </Row>
            </FormInputItem>
        </ChildContent>
    </TabPane>
</Tabs>
<div>
    <Checkbox Checked="@LoginInput.RememberMe">
        自动登录
    </Checkbox>
    <a style="float: right;">
        忘记密码
    </a>
</div>
<Button OnClick="HandleSubmit">测试按钮</Button>
@code
{
    [Parameter]
    public string LoginType { get; set; }

    [Parameter]
    public LoginModel.LoginInputModel LoginInput { get; set; } = new();

    [Parameter]
    public string Captcha { get; set; }

    [Parameter]
    public string Mobile { get; set; }

    public void HandleSubmit()
    {
        Console.WriteLine(LoginInput.UserNameOrEmailAddress);
    }

    public void GetCaptcha()
    {

    }
}
